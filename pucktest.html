<html>
 <head>
  <title>Puck Test </title>
 </head>
 
 <script src="https://www.puck-js.com/puck.js"></script>
 
 <script>
 
// Called when we get a line of data - updates the light color
function onLine(v) {
  console.log("Received: "+JSON.stringify(v));
} 
  
// When clicked, connect or disconnect
    var connection;
    alert("Received click before connection");
    path.addEventListener("click", function() {
      alert("Received click in Puck connection"); });

     /*
     if (connection) {
        connection.close();
        connection = undefined;
      }
      Puck.connect(function(c) {
        if (!c) {
          alert("Couldn't connect!");
          return;
        }
        connection = c;
        // Handle the data we get back, and call 'onLine'
        // whenever we get a line
        var buf = "";
        connection.on("data", function(d) {
          buf += d;
          var i = buf.indexOf("\n");
          while (i>=0) {
            onLine(buf.substr(0,i));
            buf = buf.substr(i+1);
            i = buf.indexOf("\n");
          }
        });
       // First, reset Puck.js
        connection.write("reset();\n", function() {
          // Wait for it to reset itself
          setTimeout(function() { connection.write(
           "setInterval(function(){Bluetooth.println(readpressure());},100); NRF.on('disconnect', function() {reset()});\n",
                                    function() { console.log("Ready..."); }); }, 1500);
                                             });
     });
*/
       </script>
 </body>
</html>
